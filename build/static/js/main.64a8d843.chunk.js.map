{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","newFilter","filterPersons","value","onChange","PersonForm","addPersonAndNumber","newName","handlePersonChange","newNumber","handleNumberChange","onSubmit","type","Person","person","handleClick","name","number","onClick","Persons","personsToShow","map","key","id","baseUrl","getAll","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","Error","App","props","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","showAll","setShowAll","setMessage","error","setError","useEffect","personService","initialPersons","filter","toLowerCase","includes","updateNumber","updatedPerson","changedPerson","returnedPerson","setTimeout","catch","event","console","log","target","preventDefault","length","window","confirm","find","personObject","concat","deletedPerson","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.64a8d843.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({newFilter, filterPersons}) => {\n  return (\n    <div>\n        Filter shown with <input\n        value={newFilter}\n        onChange={filterPersons}\n        />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPersonAndNumber, newName, handlePersonChange, newNumber, handleNumberChange}) => {\n  return (\n    <div>\n        <form onSubmit={addPersonAndNumber}>\n            <div>\n            Name: <input \n                value={newName}\n                onChange={handlePersonChange}\n            />\n            </div>\n            <div>\n            Number: <input\n            value={newNumber}\n            onChange={handleNumberChange}\n            />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    </div>\n  )\n}\n\nexport default PersonForm\n\n\n\n","import React from 'react'\n\nconst Person = ({ person, handleClick }) => {\n  return (\n  <li>{person.name} {person.number} <button onClick={() => handleClick(person)}>Delete</button></li>\n  )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ personsToShow, handleClick }) => {\n  return (\n    <div>\n        <ul>\n        {personsToShow.map((person) => \n            <Person key={person.id} person={person} handleClick={handleClick}/>\n        )}\n        </ul>\n    </div>\n  )\n}\n\nexport default Persons\n\n\n\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  axios.delete(`${baseUrl}/${id}`)\n  return getAll()\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, create, deletePerson, update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"success\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Notification","import React from 'react'\n\nconst Error  = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"fail\">\n        {message}\n      </div>\n    )\n  }\n\n  export default Error","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = (props) => {\n\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ showAll, setShowAll ] = useState(true)\n  const [ message, setMessage] = useState(null)\n  const [ error, setError] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPersonAndNumber = (event) => {\n    event.preventDefault()\n    if (persons.map((person) => person.name).includes(newName) && newNumber.length >= 8) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const updatedPerson = persons.find(person => person.name === newName)\n        updateNumber(updatedPerson, newNumber)\n      }\n      setNewName('')\n      setNewNumber('')\n    } else {\n      const personObject = {\n          name: newName,\n          number: newNumber,\n          id: persons.length + 1\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(`Added' ${newName}'`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          })\n        .catch(error => {\n          setError(`${error.response.data.error}`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })  \n      setNewName('')\n      setNewNumber('')\n      }\n  }\n\n  const handlePersonChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const filterPersons = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n    if (showAll) {\n      setShowAll(!showAll)\n    }\n  }\n\n  const personsToShow = showAll ?\n    persons :\n    persons.filter(person => person.name.toLowerCase().includes(newFilter))\n\n  const handleClick = (person) => {\n    const id = person.id\n    if (window.confirm(`Delete ${person.name}?`)) { \n      const deletedPerson = persons.find(n => n.id === id)\n      personService\n        .deletePerson(deletedPerson.id)\n        .then(response => { \n          setPersons(persons.filter(n => n.id !== id))\n        })\n        .catch(error => {\n          setMessage(null)\n          setError(`${person.name} has already been removed from server`)\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n        })\n      setPersons(persons.filter(n => n.id !== id))\n      setMessage(`Deleted ${deletedPerson.name}`)\n      setTimeout(() => { setMessage(null) }, 5000)\n    }\n  }\n\n  const updateNumber = (updatedPerson, newNumber) => {\n    const person = updatedPerson\n    const id = updatedPerson.id\n    const changedPerson = { ...person, number: newNumber }\n    personService\n      .update(id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setMessage(`Changed the number of '${changedPerson.name}'`)\n        setTimeout(() => { \n          setMessage(null) \n        }, 5000)\n      })\n      .catch(error => {\n        setMessage(null)\n        setError(\n          `${changedPerson.name} has already been removed from server`)\n        setTimeout(() => {\n          setError(null)\n        }, 5000)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Error message={error} />\n      <Filter newFilter={newFilter} filterPersons={filterPersons}/>\n      <h2>Add a new person</h2>\n      <p>muutos 2</p>\n      <PersonForm \n        addPersonAndNumber={addPersonAndNumber}\n        newName={newName}\n        handlePersonChange={handlePersonChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} handleClick={handleClick}/>\n    </div>\n  )\n}\n\nexport default App ","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}